{"ast":null,"code":"import _regeneratorRuntime from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import Loading from'../components/Loading';import{createUser}from'../services/userAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.verifyChararcters=function(_ref){var target=_ref.target;var value=target.value;var minNumber=3;var minimumCharactersReached=value.length<minNumber;_this.setState({name:value,buttonIsDisabled:minimumCharactersReached});};_this.submitButton=function(){_this.setState({loadingPage:true},/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var name,history;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:name=_this.state.name;history=_this.props.history;_context.next=4;return createUser({name:name});case 4:history.push('/search');case 5:case\"end\":return _context.stop();}}},_callee);})));};_this.state={name:'',buttonIsDisabled:true,loadingPage:false};return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state=this.state,buttonIsDisabled=_this$state.buttonIsDisabled,loadingPage=_this$state.loadingPage;return/*#__PURE__*/_jsx(\"div\",{style:{height:'100vh',width:'100%'},className:\"row justify-content-center align-items-center login-wallpaper\",children:/*#__PURE__*/_jsx(\"section\",{className:\"container align-content-center col-10 col-md-6 col-lg-4 rounded-3 p-4 shadow bg-light\",\"data-testid\":\"page-login\",children:loadingPage?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"fs-3 title\",children:\"Login\"}),/*#__PURE__*/_jsx(\"form\",{className:\"my-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text username\",children:/*#__PURE__*/_jsx(\"i\",{className:\"far fa-user-circle fa-lg\"})}),/*#__PURE__*/_jsx(\"input\",{name:\"userName\",className:\"form-control input\",id:\"login-name-input\",placeholder:\"Nome\",\"data-testid\":\"login-name-input\",onChange:this.verifyChararcters})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-dark submit mt-2\",\"data-testid\":\"login-submit-button\",disabled:buttonIsDisabled,onClick:this.submitButton,children:\"Entrar\"})]})})});}}]);return Login;}(React.Component);export default Login;","map":{"version":3,"names":["React","Loading","createUser","Login","verifyChararcters","target","value","minNumber","minimumCharactersReached","length","setState","name","buttonIsDisabled","submitButton","loadingPage","state","history","props","push","height","width","Component"],"sources":["/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/src/pages/Login.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Loading from '../components/Loading';\nimport { createUser } from '../services/userAPI';\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      name: '',\n      buttonIsDisabled: true,\n      loadingPage: false,\n    };\n  }\n\n  verifyChararcters = ({ target }) => {\n    const { value } = target;\n    const minNumber = 3;\n    const minimumCharactersReached = value.length < minNumber;\n\n    this.setState({\n      name: value,\n      buttonIsDisabled: minimumCharactersReached,\n    });\n  }\n\n  submitButton = () => {\n    this.setState({ loadingPage: true }, async () => {\n      const { name } = this.state;\n      const { history } = this.props;\n      await createUser({\n        name,\n      });\n      history.push('/search');\n    });\n  }\n\n  render() {\n    const {\n      buttonIsDisabled,\n      loadingPage,\n    } = this.state;\n\n    return (\n      <div\n        style={ { height: '100vh', width: '100%' } }\n        className=\"row justify-content-center align-items-center login-wallpaper\"\n      >\n        <section\n          className=\"container\n          align-content-center col-10 col-md-6 col-lg-4 rounded-3 p-4 shadow bg-light\"\n          data-testid=\"page-login\"\n        >\n          { loadingPage ? <Loading />\n            : (\n              <>\n                <span className=\"fs-3 title\">Login</span>\n                <form className=\"my-4\">\n                  <div className=\"input-group mb-3\">\n                    <span\n                      className=\"input-group-text username\"\n                    >\n                      <i className=\"far fa-user-circle fa-lg\" />\n                    </span>\n                    <input\n                      name=\"userName\"\n                      className=\"form-control input\"\n                      id=\"login-name-input\"\n                      placeholder=\"Nome\"\n                      data-testid=\"login-name-input\"\n                      onChange={ this.verifyChararcters }\n                    />\n\n                  </div>\n                </form>\n                <button\n                  type=\"submit\"\n                  className=\"btn btn-dark submit mt-2\"\n                  data-testid=\"login-submit-button\"\n                  disabled={ buttonIsDisabled }\n                  onClick={ this.submitButton }\n                >\n                  Entrar\n                </button>\n\n              </>\n            )}\n        </section>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default Login;\n"],"mappings":"w3BAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,UAAT,KAA2B,qBAA3B,C,gJAEMC,M,0GACJ,gBAAc,uCACZ,wBADY,MAUdC,iBAVc,CAUM,cAAgB,IAAbC,OAAa,MAAbA,MAAa,CAClC,GAAQC,MAAR,CAAkBD,MAAlB,CAAQC,KAAR,CACA,GAAMC,UAAS,CAAG,CAAlB,CACA,GAAMC,yBAAwB,CAAGF,KAAK,CAACG,MAAN,CAAeF,SAAhD,CAEA,MAAKG,QAAL,CAAc,CACZC,IAAI,CAAEL,KADM,CAEZM,gBAAgB,CAAEJ,wBAFN,CAAd,EAID,CAnBa,OAqBdK,YArBc,CAqBC,UAAM,CACnB,MAAKH,QAAL,CAAc,CAAEI,WAAW,CAAE,IAAf,CAAd,wEAAqC,sJAC3BH,IAD2B,CAClB,MAAKI,KADa,CAC3BJ,IAD2B,CAE3BK,OAF2B,CAEf,MAAKC,KAFU,CAE3BD,OAF2B,uBAG7Bd,WAAU,CAAC,CACfS,IAAI,CAAJA,IADe,CAAD,CAHmB,QAMnCK,OAAO,CAACE,IAAR,CAAa,SAAb,EANmC,sDAArC,IAQD,CA9Ba,CAGZ,MAAKH,KAAL,CAAa,CACXJ,IAAI,CAAE,EADK,CAEXC,gBAAgB,CAAE,IAFP,CAGXE,WAAW,CAAE,KAHF,CAAb,CAHY,aAQb,C,wCAwBD,iBAAS,CACP,gBAGI,KAAKC,KAHT,CACEH,gBADF,aACEA,gBADF,CAEEE,WAFF,aAEEA,WAFF,CAKA,mBACE,YACE,KAAK,CAAG,CAAEK,MAAM,CAAE,OAAV,CAAmBC,KAAK,CAAE,MAA1B,CADV,CAEE,SAAS,CAAC,+DAFZ,uBAIE,gBACE,SAAS,CAAC,uFADZ,CAGE,cAAY,YAHd,UAKIN,WAAW,cAAG,KAAC,OAAD,IAAH,cAET,wCACE,aAAM,SAAS,CAAC,YAAhB,mBADF,cAEE,aAAM,SAAS,CAAC,MAAhB,uBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,aACE,SAAS,CAAC,2BADZ,uBAGE,UAAG,SAAS,CAAC,0BAAb,EAHF,EADF,cAME,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,oBAFZ,CAGE,EAAE,CAAC,kBAHL,CAIE,WAAW,CAAC,MAJd,CAKE,cAAY,kBALd,CAME,QAAQ,CAAG,KAAKV,iBANlB,EANF,GADF,EAFF,cAoBE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,0BAFZ,CAGE,cAAY,qBAHd,CAIE,QAAQ,CAAGQ,gBAJb,CAKE,OAAO,CAAG,KAAKC,YALjB,oBApBF,GAPN,EAJF,EADF,CA+CD,C,mBAtFiBb,KAAK,CAACqB,S,EA+F1B,cAAelB,MAAf"},"metadata":{},"sourceType":"module"}