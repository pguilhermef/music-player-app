{"ast":null,"code":"import _regeneratorRuntime from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import MusicCard from'../components/MusicCard';import Header from'../components/Header';import getMusics from'../services/musicsAPI';import Loading from'../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Album=/*#__PURE__*/function(_React$Component){_inherits(Album,_React$Component);var _super=_createSuper(Album);function Album(){var _this;_classCallCheck(this,Album);_this=_super.call(this);_this.state={albumMusics:[],albumInfos:'',loadingPage:true};return _this;}_createClass(Album,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _this2=this;var id,apiMusics,resultOfMusics,resultOfInfos;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=this.props.match.params.id;_context.next=3;return getMusics(id);case 3:apiMusics=_context.sent;resultOfMusics=apiMusics.slice(1);resultOfInfos=apiMusics[0];this.setState({albumMusics:resultOfMusics,albumInfos:resultOfInfos},function(){return _this2.setState({loadingPage:false});});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,albumMusics=_this$state.albumMusics,_this$state$albumInfo=_this$state.albumInfos,artistName=_this$state$albumInfo.artistName,collectionName=_this$state$albumInfo.collectionName,artworkUrl100=_this$state$albumInfo.artworkUrl100,loadingPage=_this$state.loadingPage;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"page-album\",children:[/*#__PURE__*/_jsx(Header,{}),loadingPage?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:artworkUrl100,alt:collectionName}),/*#__PURE__*/_jsx(\"h2\",{\"data-testid\":\"artist-name\",children:artistName}),/*#__PURE__*/_jsx(\"h3\",{\"data-testid\":\"album-name\",children:collectionName}),/*#__PURE__*/_jsx(\"div\",{children:albumMusics.map(function(_ref,index){var trackId=_ref.trackId,trackName=_ref.trackName,previewUrl=_ref.previewUrl;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MusicCard,{trackName:trackName,previewUrl:previewUrl,trackId:trackId,albumMusics:albumMusics,index:index})},trackId);})})]})]});}}]);return Album;}(React.Component);export default Album;","map":{"version":3,"names":["React","MusicCard","Header","getMusics","Loading","Album","state","albumMusics","albumInfos","loadingPage","id","props","match","params","apiMusics","resultOfMusics","slice","resultOfInfos","setState","artistName","collectionName","artworkUrl100","map","index","trackId","trackName","previewUrl","Component"],"sources":["/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/src/pages/Album.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport MusicCard from '../components/MusicCard';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport Loading from '../components/Loading';\n\nclass Album extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      albumMusics: [],\n      albumInfos: '',\n      loadingPage: true,\n    };\n  }\n\n  async componentDidMount() {\n    const { match: { params: { id } } } = this.props;\n    const apiMusics = await getMusics(id);\n    const resultOfMusics = apiMusics.slice(1);\n    const resultOfInfos = apiMusics[0];\n\n    this.setState({\n      albumMusics: resultOfMusics,\n      albumInfos: resultOfInfos,\n    }, () => this.setState({ loadingPage: false }));\n  }\n\n  render() {\n    const {\n      albumMusics,\n      albumInfos: {\n        artistName,\n        collectionName,\n        artworkUrl100,\n      },\n      loadingPage,\n    } = this.state;\n\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        {loadingPage ? <Loading /> : (\n          <div>\n            <img src={ artworkUrl100 } alt={ collectionName } />\n            <h2 data-testid=\"artist-name\">{artistName}</h2>\n            <h3 data-testid=\"album-name\">{collectionName}</h3>\n            <div>\n              {albumMusics.map(({ trackId, trackName, previewUrl }, index) => (\n                <div key={ trackId }>\n                  <MusicCard\n                    trackName={ trackName }\n                    previewUrl={ previewUrl }\n                    trackId={ trackId }\n                    albumMusics={ albumMusics }\n                    index={ index }\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default Album;\n"],"mappings":"w3BAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,MAAOC,UAAP,KAAsB,yBAAtB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,UAAP,KAAsB,uBAAtB,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,2FAEMC,M,0GACJ,gBAAc,uCACZ,wBACA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAEXC,UAAU,CAAE,EAFD,CAGXC,WAAW,CAAE,IAHF,CAAb,CAFY,aAOb,C,+IAED,mMAC6BC,EAD7B,CACwC,KAAKC,KAD7C,CACUC,KADV,CACmBC,MADnB,CAC6BH,EAD7B,uBAE0BP,UAAS,CAACO,EAAD,CAFnC,QAEQI,SAFR,eAGQC,cAHR,CAGyBD,SAAS,CAACE,KAAV,CAAgB,CAAhB,CAHzB,CAIQC,aAJR,CAIwBH,SAAS,CAAC,CAAD,CAJjC,CAME,KAAKI,QAAL,CAAc,CACZX,WAAW,CAAEQ,cADD,CAEZP,UAAU,CAAES,aAFA,CAAd,CAGG,iBAAM,OAAI,CAACC,QAAL,CAAc,CAAET,WAAW,CAAE,KAAf,CAAd,CAAN,EAHH,EANF,2D,mIAYA,iBAAS,CACP,gBAQI,KAAKH,KART,CACEC,WADF,aACEA,WADF,mCAEEC,UAFF,CAGIW,UAHJ,uBAGIA,UAHJ,CAIIC,cAJJ,uBAIIA,cAJJ,CAKIC,aALJ,uBAKIA,aALJ,CAOEZ,WAPF,aAOEA,WAPF,CAUA,mBACE,aAAK,cAAY,YAAjB,wBACE,KAAC,MAAD,IADF,CAEGA,WAAW,cAAG,KAAC,OAAD,IAAH,cACV,oCACE,YAAK,GAAG,CAAGY,aAAX,CAA2B,GAAG,CAAGD,cAAjC,EADF,cAEE,WAAI,cAAY,aAAhB,UAA+BD,UAA/B,EAFF,cAGE,WAAI,cAAY,YAAhB,UAA8BC,cAA9B,EAHF,cAIE,qBACGb,WAAW,CAACe,GAAZ,CAAgB,cAAqCC,KAArC,KAAGC,QAAH,MAAGA,OAAH,CAAYC,SAAZ,MAAYA,SAAZ,CAAuBC,UAAvB,MAAuBA,UAAvB,oBACf,kCACE,KAAC,SAAD,EACE,SAAS,CAAGD,SADd,CAEE,UAAU,CAAGC,UAFf,CAGE,OAAO,CAAGF,OAHZ,CAIE,WAAW,CAAGjB,WAJhB,CAKE,KAAK,CAAGgB,KALV,EADF,EAAWC,OAAX,CADe,EAAhB,CADH,EAJF,GAHJ,GADF,CAyBD,C,mBA1DiBxB,KAAK,CAAC2B,S,EAqE1B,cAAetB,MAAf"},"metadata":{},"sourceType":"module"}