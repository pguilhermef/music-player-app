{"ast":null,"code":"import _regeneratorRuntime from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ArtistAlbuns from'../components/ArtistAlbuns';import Header from'../components/Header';import searchAlbumsAPI from'../services/searchAlbumsAPI';import Loading from'../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_React$Component){_inherits(Search,_React$Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);_this=_super.call(this);_this.verifyChararcters=function(_ref){var target=_ref.target;var value=target.value;var minNumber=2;var minimumCharactersReached=value.length<minNumber;_this.setState({searchInput:value,buttonIsDisabled:minimumCharactersReached});};_this.clickButton=function(e){var searchInput=_this.state.searchInput;e.preventDefault();_this.setState({loadingPage:true},/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var artistAlbuns;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return searchAlbumsAPI(searchInput);case 2:artistAlbuns=_context.sent;_this.setState({artist:searchInput,searchInput:'',albuns:artistAlbuns,activateAlbuns:true,loadingPage:false});case 4:case\"end\":return _context.stop();}}},_callee);})));};_this.state={artist:'',albuns:[],searchInput:'',buttonIsDisabled:true,activateAlbuns:false,loadingPage:false};return _this;}_createClass(Search,[{key:\"render\",value:function render(){var _this$state=this.state,buttonIsDisabled=_this$state.buttonIsDisabled,searchInput=_this$state.searchInput,artist=_this$state.artist,albuns=_this$state.albuns,activateAlbuns=_this$state.activateAlbuns,loadingPage=_this$state.loadingPage;return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',width:'100%'},className:\"row justify-content-center align-items-center search-wallpaper\",children:/*#__PURE__*/_jsxs(\"section\",{className:\"container align-content-center col-10 col-md-6 col-lg-5 rounded-3 p-4 shadow bg-light\",\"data-testid\":\"page-search\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fs-3 title\",children:\"Search\"}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"my-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text username\"}),/*#__PURE__*/_jsx(\"input\",{id:\"search-input\",className:\"form-control input\",\"data-testid\":\"search-artist-input\",placeholder:\"Ariana Grande\",onChange:this.verifyChararcters,value:searchInput})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",\"data-testid\":\"search-artist-button\",className:\"btn btn-dark submit mt-2\",disabled:buttonIsDisabled,onClick:this.clickButton,children:\"Pesquisar\"})]}),loadingPage?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(\"section\",{children:activateAlbuns?/*#__PURE__*/_jsx(ArtistAlbuns,{artist:artist,albuns:albuns}):/*#__PURE__*/_jsx(\"p\",{children:\"Pesquise um album ou artista!\"})})]})});}}]);return Search;}(React.Component);export default Search;","map":{"version":3,"names":["React","ArtistAlbuns","Header","searchAlbumsAPI","Loading","Search","verifyChararcters","target","value","minNumber","minimumCharactersReached","length","setState","searchInput","buttonIsDisabled","clickButton","e","state","preventDefault","loadingPage","artistAlbuns","artist","albuns","activateAlbuns","minHeight","width","Component"],"sources":["/home/paulo-guilherme-dev/projetos/sd-023-b-project-trybetunes/src/pages/Search.js"],"sourcesContent":["import React from 'react';\nimport ArtistAlbuns from '../components/ArtistAlbuns';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from '../components/Loading';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      artist: '',\n      albuns: [],\n      searchInput: '',\n      buttonIsDisabled: true,\n      activateAlbuns: false,\n      loadingPage: false,\n    };\n  }\n\n  verifyChararcters = ({ target }) => {\n    const { value } = target;\n    const minNumber = 2;\n    const minimumCharactersReached = value.length < minNumber;\n\n    this.setState({\n      searchInput: value,\n      buttonIsDisabled: minimumCharactersReached,\n    });\n  }\n\n  clickButton = (e) => {\n    const { searchInput } = this.state;\n    e.preventDefault();\n\n    this.setState({\n      loadingPage: true,\n    }, async () => {\n      const artistAlbuns = await searchAlbumsAPI(searchInput);\n      this.setState({\n        artist: searchInput,\n        searchInput: '',\n        albuns: artistAlbuns,\n        activateAlbuns: true,\n        loadingPage: false,\n      });\n    });\n  };\n\n  render() {\n    const {\n      buttonIsDisabled,\n      searchInput,\n      artist,\n      albuns,\n      activateAlbuns,\n      loadingPage,\n    } = this.state;\n\n    return (\n      <div\n        style={ { minHeight: '100vh', width: '100%' } }\n        className=\"row justify-content-center align-items-center search-wallpaper\"\n      >\n        <section\n          className=\"container\n          align-content-center col-10 col-md-6 col-lg-5 rounded-3 p-4 shadow bg-light\"\n          data-testid=\"page-search\"\n        >\n          <span className=\"fs-3 title\">Search</span>\n          <Header />\n          <form className=\"my-4\">\n            <div className=\"input-group mb-3\">\n              <span\n                className=\"input-group-text username\"\n              >\n                {/* <i className=\"fa-duotone fa-magnifying-glass\"></i> */}\n              </span>\n              <input\n                id=\"search-input\"\n                className=\"form-control input\"\n                data-testid=\"search-artist-input\"\n                placeholder=\"Ariana Grande\"\n                onChange={ this.verifyChararcters }\n                value={ searchInput }\n              />\n            </div>\n            <button\n              type=\"submit\"\n              data-testid=\"search-artist-button\"\n              className=\"btn btn-dark submit mt-2\"\n              disabled={ buttonIsDisabled }\n              onClick={ this.clickButton }\n            >\n              Pesquisar\n            </button>\n          </form>\n\n          { loadingPage ? <Loading /> : (\n            <section>\n              {activateAlbuns\n                ? (\n                  <ArtistAlbuns\n                    artist={ artist }\n                    albuns={ albuns }\n                  />\n                )\n                : <p>Pesquise um album ou artista!</p>}\n            </section>\n          ) }\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":"w3BAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,aAAP,KAAyB,4BAAzB,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,MAAOC,gBAAP,KAA4B,6BAA5B,CACA,MAAOC,QAAP,KAAoB,uBAApB,C,2FAEMC,O,4GACJ,iBAAc,wCACZ,wBADY,MAadC,iBAbc,CAaM,cAAgB,IAAbC,OAAa,MAAbA,MAAa,CAClC,GAAQC,MAAR,CAAkBD,MAAlB,CAAQC,KAAR,CACA,GAAMC,UAAS,CAAG,CAAlB,CACA,GAAMC,yBAAwB,CAAGF,KAAK,CAACG,MAAN,CAAeF,SAAhD,CAEA,MAAKG,QAAL,CAAc,CACZC,WAAW,CAAEL,KADD,CAEZM,gBAAgB,CAAEJ,wBAFN,CAAd,EAID,CAtBa,OAwBdK,WAxBc,CAwBA,SAACC,CAAD,CAAO,CACnB,GAAQH,YAAR,CAAwB,MAAKI,KAA7B,CAAQJ,WAAR,CACAG,CAAC,CAACE,cAAF,GAEA,MAAKN,QAAL,CAAc,CACZO,WAAW,CAAE,IADD,CAAd,wEAEG,4KAC0BhB,gBAAe,CAACU,WAAD,CADzC,QACKO,YADL,eAED,MAAKR,QAAL,CAAc,CACZS,MAAM,CAAER,WADI,CAEZA,WAAW,CAAE,EAFD,CAGZS,MAAM,CAAEF,YAHI,CAIZG,cAAc,CAAE,IAJJ,CAKZJ,WAAW,CAAE,KALD,CAAd,EAFC,sDAFH,IAYD,CAxCa,CAGZ,MAAKF,KAAL,CAAa,CACXI,MAAM,CAAE,EADG,CAEXC,MAAM,CAAE,EAFG,CAGXT,WAAW,CAAE,EAHF,CAIXC,gBAAgB,CAAE,IAJP,CAKXS,cAAc,CAAE,KALL,CAMXJ,WAAW,CAAE,KANF,CAAb,CAHY,aAWb,C,yCA+BD,iBAAS,CACP,gBAOI,KAAKF,KAPT,CACEH,gBADF,aACEA,gBADF,CAEED,WAFF,aAEEA,WAFF,CAGEQ,MAHF,aAGEA,MAHF,CAIEC,MAJF,aAIEA,MAJF,CAKEC,cALF,aAKEA,cALF,CAMEJ,WANF,aAMEA,WANF,CASA,mBACE,YACE,KAAK,CAAG,CAAEK,SAAS,CAAE,OAAb,CAAsBC,KAAK,CAAE,MAA7B,CADV,CAEE,SAAS,CAAC,gEAFZ,uBAIE,iBACE,SAAS,CAAC,uFADZ,CAGE,cAAY,aAHd,wBAKE,aAAM,SAAS,CAAC,YAAhB,oBALF,cAME,KAAC,MAAD,IANF,cAOE,cAAM,SAAS,CAAC,MAAhB,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,aACE,SAAS,CAAC,2BADZ,EADF,cAME,cACE,EAAE,CAAC,cADL,CAEE,SAAS,CAAC,oBAFZ,CAGE,cAAY,qBAHd,CAIE,WAAW,CAAC,eAJd,CAKE,QAAQ,CAAG,KAAKnB,iBALlB,CAME,KAAK,CAAGO,WANV,EANF,GADF,cAgBE,eACE,IAAI,CAAC,QADP,CAEE,cAAY,sBAFd,CAGE,SAAS,CAAC,0BAHZ,CAIE,QAAQ,CAAGC,gBAJb,CAKE,OAAO,CAAG,KAAKC,WALjB,uBAhBF,GAPF,CAkCII,WAAW,cAAG,KAAC,OAAD,IAAH,cACX,yBACGI,cAAc,cAEX,KAAC,YAAD,EACE,MAAM,CAAGF,MADX,CAEE,MAAM,CAAGC,MAFX,EAFW,cAOX,oDARN,EAnCJ,GAJF,EADF,CAsDD,C,oBA3GkBtB,KAAK,CAAC0B,S,EA8G3B,cAAerB,OAAf"},"metadata":{},"sourceType":"module"}